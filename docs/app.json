[{"name":"app.R","content":"library(shiny)\r\nlibrary(bslib)\r\ninstall.packages(\"shinylive\")   \r\nlibrary(shinylive)\r\n\r\n\r\nui <- fluidPage(\r\n  tags$head(\r\n    tags$style(HTML(\"\r\n      body {\r\n        background-color: #e2e9eb;\r\n      }\r\n      .input-row {\r\n        background-color: #0c234b;\r\n        color: white;\r\n        padding: 15px;\r\n        margin-bottom: 20px;\r\n        border-radius: 5px;\r\n      }\r\n      .input-row label, .input-row .control-label, .input-row .shiny-input-container {\r\n        color: white !important;\r\n      }\r\n      .output-card {\r\n        background-color: white;\r\n        padding: 20px;\r\n        margin-bottom: 20px;\r\n        box-shadow: 0 0 10px rgba(0,0,0,0.1);\r\n        border-radius: 8px;\r\n      }\r\n    \"))\r\n  ),\r\n  \r\n  titlePanel(\"Airborne Infection Risk Demo\"),\r\n  \r\n  tabsetPanel(\r\n    tabPanel(\"Demo 1: Co-Occupancy Risk\",\r\n             div(class = \"input-row\",\r\n                 fluidRow(\r\n                   column(4,\r\n                          selectInput(\"room\", \"Room Type:\",\r\n                                      choices = c(\"Office\", \"Classroom\", \"Waiting Room\"))\r\n                   ),\r\n                   column(4,\r\n                          sliderInput(\"duration_hr\", \"Exposure Duration (hours):\",\r\n                                      min = 0.5, max = 4, value = 1, step = 0.5,\r\n                                      ticks = TRUE)\r\n                   ),\r\n                   column(4,\r\n                          actionButton(\"go1\", \"Run Model\", class = \"btn btn-light\", style = \"margin-top: 25px;\")\r\n                   )\r\n                 )\r\n             ),\r\n             \r\n             div(class = \"output-card\",\r\n                 h4(\"Model Assumptions\"),\r\n                 verbatimTextOutput(\"assumptions_txt\")\r\n             ),\r\n             \r\n             div(class = \"output-card\",\r\n                 h4(\"Risk Estimate\"),\r\n                 verbatimTextOutput(\"summary_txt\")\r\n             ),\r\n             \r\n             fluidRow(\r\n               column(6,\r\n                      div(class = \"output-card\",\r\n                          h4(\"Time Series Graph\"),\r\n                          img(\r\n                            src = \"https://ifhpath.arizona.edu/sites/default/files/2025-10/graph-example.PNG\",\r\n                            width = \"100%\", alt = \"Risk Over Time\"\r\n                          )\r\n                      )\r\n               ),\r\n               column(6,\r\n                      div(class = \"output-card\",\r\n                          h4(\"Risk Summary Table\"),\r\n                          img(\r\n                            src = \"https://ifhpath.arizona.edu/sites/default/files/2025-10/table-example.PNG\",\r\n                            width = \"100%\", alt = \"Risk Table\"\r\n                          )\r\n                      )\r\n               )\r\n             )\r\n    ),\r\n    \r\n    tabPanel(\"Demo 2: Coming Soon\",\r\n             div(class = \"output-card\",\r\n                 h4(\"Demo 2 Placeholder\"),\r\n                 p(\"This tab will contain a second QMRA demo.\")\r\n             )\r\n    )\r\n  )\r\n)\r\n\r\nserver <- function(input, output, session) {\r\n  observeEvent(input$go1, {\r\n    output$assumptions_txt <- renderPrint({\r\n      duration_min <- input$duration_hr * 60\r\n      paste(\"Room:\", input$room, \"\\nDuration:\", duration_min, \"minutes\")\r\n    })\r\n    \r\n    output$summary_txt <- renderPrint({\r\n      \"Risk estimate: 1.23E-03 (placeholder)\"\r\n    })\r\n  })\r\n}\r\n\r\nshinyApp(ui, server)\r\n","type":"text"}]
